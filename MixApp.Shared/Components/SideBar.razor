@inherits MixApp.Shared.Components.SideBarBase

@inject LocaleManager LM

<nav class="sidebar">
    <div class="top">
        @foreach (RouteInfo info in Top)
        {
            <NavLink Href="@info.Href">
                @* 颜色用var(--accent-fill-rest) *@
                <div @onclick=@(_ => CurrentHref = info.Href) class=@(CurrentHref == info.Href ? "active":string.Empty)>
                    @if (CurrentHref == info.Href)
                    {
                        <FluentIcon Value="@info.IconFilled" class="animate__animated animate__rubberBand" />
                    }
                    else
                    {
                        <FluentIcon Value="@info.IconRegular" />
                    }
                    <span>@LM.Scripts[info.Name]</span>

                </div>
            </NavLink>
        }
    </div>

    <div class="bottom">
        @foreach (RouteInfo info in Bottom)
        {
            <NavLink Href="@info.Href">
                <div @onclick=@(_ => CurrentHref = info.Href) class=@(CurrentHref == info.Href ? "active":string.Empty)>
                    @if (CurrentHref == info.Href)
                    {
                        <FluentIcon Value="@info.IconFilled" class="animate__animated animate__rubberBand" />
                    }
                    else
                    {
                        <FluentIcon Value="@info.IconRegular" />
                    }
                    <span>@LM.Scripts[info.Name]</span>
                </div>
            </NavLink>
        }
    </div>
</nav>

<style>
    .active {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .sidebar {
        width: 70px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 5px;
        background-color: var(--neutral-fill-layer-rest);
        ;
    }

    .sidebar .top,
    .sidebar .bottom {
        width: 100%;
    }

    .sidebar button:hover {}

    .sidebar .top div,
    .sidebar .bottom div {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        text-align: center;
        padding: 8px 0 4px 0;
        border-radius: 7px;
        box-sizing: border-box;
        margin: 2px;
    }

    .sidebar a {
        font-size: 12px;
        font-family: Arial, Helvetica, sans-serif;
        text-decoration: none;
    }

    @@media only screen and (max-width: 950px) {
        .sidebar {
            display: none;
        }
    }
</style>